#　rmss 設計思考メモ
## これは何
WMO/JMA ソケット手順などの電文交換プログラムを ruby で実装するもの。

WMO 国際通信関係者間ではこの種のプログラムを message switching system という
（日本気象庁では「アデスのようなもの」と言わないと通じない）のが名前の由来。
さしあたり ruby で実装するが、いずれ C で書くこともあるかもしれないので、
区別できるように rmss と命名しておく。

## コマンド構成
MSSの前後に多様な処理を接続できるよう、マルチプロセス構造にしておく

* rmss-que: キューに電文を投入するコマンド
* rmss-qstat: キュー状態を表示・チェックするコマンド
* rmss-send: キューを保持して電文が現れたらソケットに送るデーモン
* rmss-recv: ソケットを待ち受けて電文を受けたらキューに詰むデーモン
* rmss-switch: ソケットを待ち受けて電文を受けたら設定により他の多数ソケットに配信するデーモン
* rmss-store: キューを監視して電文ほ保存するデーモン

## 電文とは
WMO/JMA ソケット手順が伝送するペイロードは、任意のオクテット列である。長さは720Kbytesが上限とされている。
純粋なソケット手順にはファイル名や通過番号など、ペイロードを特定する情報はない。

通過番号はペイロードの先頭に置かれるBCHに記載される。まあ、そこまでを電文のプロパティと考えるべきかもしれない。

## キューとは






